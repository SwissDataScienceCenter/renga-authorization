{"swagger":"2.0","info":{"title":"Graph Mutation Service","description":"Mutate the graph","version":"1.0.0"},"schemes":["https"],"basePath":"/","produces":["application/json"],"consumes":["application/json"],"paths":{"/mutation":{"post":{"summary":"Mutate the graph","description":"This mutates the graph.\n","parameters":[{"name":"data","in":"body","description":"The json representation of the mutation","required":true,"schema":{"$ref":"#/definitions/Mutation"}}],"responses":{"200":{"description":"Returns the created vertex.","schema":{"$ref":"#/definitions/Vertex"}},"default":{"description":"Unexpected error","schema":{"$ref":"#/definitions/Error"}}}}},"/mutation/create_vertex":{"post":{"summary":"Create a vertex","description":"Equivalent to post a mutation consisting of one CreateVertex operation\n","parameters":[{"name":"data","in":"body","description":"The json representation of the mutation","required":true,"schema":{"$ref":"#/definitions/CreateVertex"}}],"responses":{"200":{"description":"Returns the created vertex.","schema":{"$ref":"#/definitions/Vertex"}},"default":{"description":"Unexpected error","schema":{"$ref":"#/definitions/Error"}}}}}},"definitions":{"Key":{"type":"string","title":"Key","description":"property key, pattern: \"namspace:name\"","minLength":2},"Vertex":{"title":"Vertex","allOf":[{"$ref":"#/definitions/Typed"},{"type":"object","properties":{"properties":{"type":"array","items":{"$ref":"#/definitions/MultiPropertyValue"}}}}]},"Edge":{"type":"object","properties":{"in_id":{"type":"string","description":"uuid of the input Vertex."},"out_id":{"type":"string","description":"uuid of the output Vertex."},"name":{"type":"string","description":"The name of the Edge."},"prop":{"type":"array","items":{"$ref":"#/definitions/Property"}}}},"VertexProperty":{"title":"VertexProperty","allOf":[{"type":"object","properties":{"key":{"$ref":"#/definitions/Key"},"properties":{"type":"array","items":{"$ref":"#/definitions/Property"}}}},{"$ref":"#/definitions/DataValue"}]},"Property":{"title":"Property","allOf":[{"type":"object","properties":{"key":{"$ref":"#/definitions/Key"}}},{"$ref":"#/definitions/DataValue"}],"required":["key","data_type","value"]},"Typed":{"type":"object","properties":{"types":{"type":"array","items":{"$ref":"#/definitions/Key"}}}},"MultiPropertyValue":{"type":"object","title":"MultiPropertyValue","properties":{"key":{"$ref":"#/definitions/Key"},"data_type":{"$ref":"#/definitions/DataType"},"cardinality":{"$ref":"#/definitions/Cardinality"},"values":{"type":"array","items":{"$ref":"#/definitions/VertexProperty"}}},"required":["key","data_type","cardinality","values"]},"DataValue":{"type":"object","title":"DataValue","properties":{"data_type":{"$ref":"#/definitions/DataType"},"value":{"type":["string","number","boolean"]}},"required":["value"]},"NewVertex":{"title":"NewVertex","allOf":[{"type":"object","properties":{"temp_id":{"type":"integer","format":"int32"}}},{"$ref":"#/definitions/Vertex"}],"required":["temp_id"]},"DataType":{"type":"string","title":"DataType","enum":["string","character","boolean","byte","short","integer","long","float","double","uuid"]},"Cardinality":{"type":"string","title":"Cardinality","enum":["single","set","list"]},"Mutation":{"type":"object","properties":{"operations":{"type":"array","items":{"$ref":"#/definitions/Operation"}}},"required":["operations"]},"Operation":{"title":"Operation","discriminator":"type","properties":{"type":{"type":"string","enum":["create_vertex"]}},"required":["type"]},"CreateVertex":{"allOf":[{"$ref":"#/definitions/Operation"},{"properties":{"element":{"$ref":"#/definitions/NewVertex"}}}],"required":["type","element"]},"Error":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"fields":{"type":"string"}}}}}